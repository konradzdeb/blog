---
title: Installing Hortonworks Sanbox on Mac with Docker
author: Konrad
date: '2019-02-23'
slug: installing-hortonworks-sanbox-deployment-hdp-on-docker-mac
categories:
  - how-to
tags:
  - docker
  - bash
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="background" class="section level1">
<h1>Background</h1>
<p>The post covers installation of Hortonworks Sandbox (HD) on Mac using Docker. In software development, <em>sandbox</em> describes a testing environment that can be used to isolate untested code changes from a production code. Hortonworks Sandbox provides such an environment with the Hortonworks Data Platform installed. Hortonworks Data Platform is an open source framework facilitating distributed storage and processing large volumes of data.</p>
<p>Deploying system for distributed processing <em>within</em> a single computer may seem like a counter-intuitive idea but it’s actually a very common practice. Most frequent use cases involve various learning / professional development activities where one may be interested in learning new technology or simply exploring available interfaces. Other frequent use case pertains to various demos, where there may be a need to demonstrate product capabilities and accessing proper, production environment could be cumbersome.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<div id="docker" class="section level3">
<h3>Docker</h3>
<p>Docker, which is now used by millions of developers, is and open platform for developing, shipping and running applications. More technically, Docker uses OS-level virtualisation to deliver software packages called containers. Before installing docker let’s check for the existing installation.</p>
<pre class="sh"><code>which -a docker
# /usr/local/bin/docker
docker -v
# Docker version 20.10.2, build 2291f61</code></pre>
<p>Assuming that the line above did not produce results we can install docker with use of Homebrew. To install Homebrew:</p>
<pre class="sh"><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></pre>
<p>We can the progress with installing docker. The command will install ‘cask’ version of the Docker. In Homebrew lingo, ‘casks’ are applications with Graphical User Interfaces. It is possible to install Docker without GUI by running <code>brew install docker</code>.</p>
<pre class="sh"><code>brew install --cask docker</code></pre>
<p>By choosing the <code>--cask</code> option we will choose instruct homebrew to install Docker with the additional application providing us with a convenient GUI for managing settings and images. With respect to the configuration, we have to increase the dedicated memory of the Docker images to at least 12GB. This can be quickly achieved by modification of the setting below.</p>
<div class="figure">
<img src="images/DockerConfigMem.png" style="width:80.0%;height:80.0%" alt="" />
<p class="caption">Docker Memory Configuration</p>
</div>
</div>
<div id="sanbox" class="section level3">
<h3>Sanbox</h3>
<p>Cloudera maintains installation script, which presently the script can be download from <a href="https://www.cloudera.com/downloads/hortonworks-sandbox/hdp.html?utm_source=mktg-tutorial">here</a>. After downloading the sandbox can be installed using the following command:</p>
<pre class="sh"><code>sh --verbose ./docker-deploy-{Version}.sh</code></pre>
<p>Where <code>{Version}</code> stands for the version of the sandbox we are going to install. After the deployment script finishes successfully, we will be able to notice that the new docker images are now running. That can be checked by running <code>docker ps</code> command or by exploring the Docker GUI, as shown below.</p>
<div class="figure">
<img src="images/DockerRunning.png" style="width:80.0%;height:80.0%" alt="" />
<p class="caption">Docker Running Desired Images</p>
</div>
<p>It’s worth adding that the installed image is rather substantial, exceeding 27GB:</p>
<pre class="sh"><code>docker images | grep horton | awk &#39;{ print $1, $7 }&#39;
# hortonworks/sandbox-hdp 27.5GB
# hortonworks/sandbox-proxy 109MB</code></pre>
<div id="host-file" class="section level4">
<h4>Host file</h4>
<p>In order to access the Sandbox we have modify the host file<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> We can do this using the code below:</p>
<pre class="sh"><code>echo &#39;127.0.0.1 sandbox-hdp.hortonworks.com sandbox-hdf.hortonworks.com&#39; | sudo tee -a /private/etc/hosts</code></pre>
</div>
</div>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<div id="startstop" class="section level3">
<h3>Start/Stop</h3>
<p>The sandbox can be controlled in a manner similar to other docker images</p>
<pre class="sh"><code>docker [start|stop] sandbox-hdp
docker [start|stop] sandbox-proxy</code></pre>
</div>
<div id="accessing-the-sandbox" class="section level3">
<h3>Accessing the sandbox</h3>
<p>Following the successful modification of the command above we can start interacting with the box. Opening a ssh connection to the snadbox can be achieved by executing</p>
<pre class="sh"><code>ssh maria_dev@sandbox-hdp.hortonworks.com -p 2222</code></pre>
<p>The list of pre-configured user accounts and passwords is provided by <a href="https://www.cloudera.com/tutorials/learning-the-ropes-of-the-hdp-sandbox.html">Cloudera</a>.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.cloudera.com/tutorials/learning-the-ropes-of-the-hdp-sandbox.html">The article</a> explaining the process in detail is provided by Cloudera.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
